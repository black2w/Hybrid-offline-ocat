(function(e){function t(t){for(var s,o,a=t[0],l=t[1],u=t[2],c=0,m=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&m.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);p&&p(t);while(m.length)m.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],s=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(s=!1)}s&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},n={app:0},i=[];function o(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"124bc77d"}[e]+".js"}function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,s){r=n[e]=[t,s]}));t.push(r[2]=s);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=o(e);var u=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",u.name="ChunkLoadError",u.type=s,u.request=i,r[1](u)}n[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var p=u;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("64a9"),n=r.n(s);n.a},"051d":function(e,t,r){},"095f":function(e,t,r){},1141:function(e,t,r){"use strict";var s=r("051d"),n=r.n(s);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],o=(r("034f"),r("2877")),a={},l=Object(o["a"])(a,n,i,!1,null,null,null),u=l.exports,c=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("el-container",[r("el-header",[r("el-row",{staticStyle:{height:"100%","border-bottom":"solid 1px #e6e6e6"},attrs:{type:"flex",justify:"space-between"}},[r("el-col",{attrs:{span:12}},[r("div",{staticStyle:{"text-align":"left","line-height":"60px"}},[e._v("\n            离线包移动平台\n          ")])]),r("el-col",{attrs:{span:12}},[r("div",{staticStyle:{"text-align":"right","line-height":"60px"}},[r("el-dropdown",[r("span",{staticClass:"el-dropdown-link",staticStyle:{"margin-right":"15px"}},[e._v("\n                "+e._s(e.username)),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[r("span",{on:{click:function(t){return e.logoutAction()}}},[e._v("登出")])])],1)],1)],1)])],1)],1),r("el-container",[r("el-aside",{attrs:{width:"200px"}},[r("el-menu",{attrs:{"default-openeds":["1","2"]}},e._l(e.menuList,(function(t,s){return r("el-submenu",{key:s,attrs:{index:s+1+""}},[r("template",{slot:"title"},[r("i",{class:t.icon}),r("span",[e._v(e._s(t.name))])]),e._l(t.children,(function(t,n){return r("router-link",{key:n,attrs:{to:t.href}},[r("el-menu-item",{attrs:{index:s+1+"-"+(n+1)}},[r("template",{slot:"title"},[r("i",{class:t.icon}),r("span",[e._v(e._s(t.name))])])],2)],1)}))],2)})),1)],1),r("el-main",[r("router-view")],1)],1)],1)],1)},m=[],d=(r("96cf"),r("3b8d")),h={name:"home",data:function(){return{menuList:[]}},created:function(){this.menuList=this.$store.getters.loginInfo.menuList},methods:{logoutAction:function(){this.logoutApi()},logoutApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$http.API.LOGOUT);case 2:t=e.sent,t.success&&(this.$message("退出成功啦"),this.$store.commit("clearUserInfo"),console.log("是否登录："+this.$store.getters.isLogin),this.$router.push("/"));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:{isLogin:function(){return this.$store.getters.isLogin},username:function(){return this.$store.getters.loginInfo.username}}},f=h,g=(r("1141"),Object(o["a"])(f,p,m,!1,null,"3c68eb29",null)),b=g.exports,A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:9}},[r("div",{staticClass:"placeholder_hiden"},[e._v("1")])]),r("el-col",{attrs:{span:6}},[r("div",{staticStyle:{"margin-top":"100px"}},[r("h3",{staticStyle:{"text-align":"center"}},[e._v("OCat移动平台 Beta 0.0.1")]),r("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入用户名",clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"prefix-icon":"el-icon-view",placeholder:"请输入密码",type:"password",clearable:""},on:{change:function(t){return e.loginAction("ruleForm")}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.loginAction("ruleForm")}}},[e._v("登录")])],1)],1)],1)]),r("el-col",{attrs:{span:9}},[r("div",{staticClass:"placeholder_hiden"},[e._v("1")])])],1)],1)},v=[],_={data:function(){return{ruleForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){localStorage.username&&(this.ruleForm.username=localStorage.username)},methods:{loginAction:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.loginApi()}))},loginApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.ruleForm,e.next=3,this.$http.post(this.$http.API.LOGIN,t);case 3:r=e.sent,!0===r.success&&(2===r.data.enabled?this.$message({message:"用户被锁定",type:"warning"}):(this.$message({message:"登录成功啦",type:"success"}),localStorage.username=this.ruleForm.username,this.$store.commit("setUserInfo",r.data),console.log("localstore username:"+localStorage.username),console.log("查看的登录信息："+this.$store.getters.loginInfo),console.log("是否登录："+this.$store.getters.isLogin),this.$menuPermission.checkPermissions(),console.log("是否存在离线包管理这个菜单1："+this.$store.getters.hasButtonById("12")),console.log("是否存在离线包管理这个菜单2："+this.$menuPermission.HAS_USER_CREATE_BUTTON),this.$router.push("/home")));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},E=_,F=(r("cd61"),Object(o["a"])(E,A,v,!1,null,"b7634738",null)),y=F.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v("\n  欢迎来到OCat移动平台\n")])},T=[],S={},R=S,x=Object(o["a"])(R,w,T,!1,null,null,null),k=x.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"margin-bottom":"20px"}},[r("el-col",{attrs:{span:24}},[e.$menuPermission.HAS_USER_CREATE_BUTTON?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAction()}}},[e._v("创建新用户"),r("i",{staticClass:"el-icon-apple el-icon--right"})]):e._e()],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.usersData,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"username",label:"用户名",width:"200"}}),r("el-table-column",{attrs:{prop:"description",label:"描述"}}),e.$menuPermission.HAS_USER_LOCK_BUTTON?r("el-table-column",{attrs:{label:"是否锁定",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-switch",{on:{change:function(r){return e.lockAction(r,t.row)}},model:{value:t.row.lock,callback:function(r){e.$set(t.row,"lock",r)},expression:"scope.row.lock"}})]}}],null,!1,2529024882)}):e._e(),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$menuPermission.HAS_USER_UPDATE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.editAction(t.row)}}},[e._v("编辑")]):e._e(),e.$menuPermission.HAS_USER_DELETE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteAction(t.row)}}},[e._v("删除")]):e._e(),e.$menuPermission.HAS_USER_ROLE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.roleAction(t.row)}}},[e._v("角色")]):e._e()]}}])})],1)],1)],1),r("el-dialog",{attrs:{title:"创建新用户",visible:e.createDialogFormVisible},on:{"update:visible":function(t){e.createDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),r("el-form-item",{attrs:{label:"描述",prop:"description"}},[r("el-input",{model:{value:e.userForm.description,callback:function(t){e.$set(e.userForm,"description",t)},expression:"userForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.createDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createUserAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑新用户",visible:e.editDialogFormVisible},on:{"update:visible":function(t){e.editDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{model:{value:e.userForm.username,callback:function(t){e.$set(e.userForm,"username",t)},expression:"userForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),r("el-form-item",{attrs:{label:"描述",prop:"description"}},[r("el-input",{model:{value:e.userForm.description,callback:function(t){e.$set(e.userForm,"description",t)},expression:"userForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editUserAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配角色",visible:e.roleDialogFormVisible},on:{"update:visible":function(t){e.roleDialogFormVisible=t}}},[r("el-transfer",{attrs:{titles:["待分配角色","已分配角色"],"button-texts":["到左边","到右边"],data:e.rolesData},model:{value:e.roles,callback:function(t){e.roles=t},expression:"roles"}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.roleDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.manageRoleAction("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},O=[],$=(r("7f7f"),r("ac6a"),{data:function(){return{usersData:[],createDialogFormVisible:!1,editDialogFormVisible:!1,roleDialogFormVisible:!1,userForm:{username:"",password:"",description:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},roles:[],rolesData:[],editUserId:0}},methods:{createUserAction:function(e){var t=this;this.createDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createUserApi()}))},editUserAction:function(e){var t=this;this.editDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.updateUserApi(t.editUserId)}))},manageRoleAction:function(){this.roleDialogFormVisible=!1,console.log("roles:"+JSON.stringify(this.roles)),this.allotRolesApi(this.editUserId)},createAction:function(){this.userForm.username="",this.userForm.password="",this.userForm.description="",this.createDialogFormVisible=!0},editAction:function(e){this.userForm.username=e.username,this.userForm.description=e.description,this.editDialogFormVisible=!0,console.log("edit user is:"+JSON.stringify(e)),this.editUserId=e.id},deleteAction:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteUserApi(e.id)})).catch((function(){}))},roleAction:function(e){this.roleDialogFormVisible=!0,this.editUserId=e.id,this.rolesApi(),this.rolesOfUserApi(e.id)},lockAction:function(e,t){console.log(e+":"+t.username),this.lockUserApi(t.id,e)},usersApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$http.API.USERS_ALL);case 2:t=e.sent,t.success&&(this.usersData=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),rolesApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.rolesData=[],e.next=3,this.$http.get(this.$http.API.ROLES_ALL);case 3:t=e.sent,t.success&&(r=t.data,r.forEach((function(e){var t={key:e.id,label:e.name,disabled:!1};s.rolesData.push(t)})));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),rolesOfUserApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.roles=[],e.next=3,this.$http.get("/system/user/"+t+"/roles");case 3:r=e.sent,r.success&&(s=r.data,s.forEach((function(e){n.roles.push(e.id)})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),allotRolesApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("/system/user/"+t+"/roles",this.roles);case 2:r=e.sent,r.success&&this.$message({message:"恭喜您，分配角色成功",type:"success"});case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createUserApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.userForm,e.next=3,this.$http.post(this.$http.API.USERS_CREATE,t);case 3:r=e.sent,r.success&&(this.$message({message:"创建成功啦",type:"success"}),this.usersApi());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateUserApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.userForm,e.next=3,this.$http.put(this.$http.API.USERS_UPDATE+t,r);case 3:s=e.sent,s.success&&(this.$message({message:"更新成功啦",type:"success"}),this.usersApi());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteUserApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.userForm,e.next=3,this.$http.delete(this.$http.API.USERS_DELETE+t);case 3:r=e.sent,r.success&&(this.$message({message:"删除成功啦",type:"success"}),this.usersApi());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),lockUserApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=1,n="\b解锁成功",!0===r&&(s=2,n="\b锁定成功"),e.next=5,this.$http.put("/system/user/"+t+"/enable",{enabled:s});case 5:i=e.sent,i.success&&(this.$message({message:n,type:"success"}),this.usersApi());case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()},created:function(){this.usersApi()}}),U=$,I=Object(o["a"])(U,P,O,!1,null,null,null),D=I.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"margin-bottom":"20px"}},[r("el-col",{attrs:{span:24}},[e.$menuPermission.HAS_ROLE_CREATE_BUTTON?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAction()}}},[e._v("创建新角色"),r("i",{staticClass:"el-icon-apple el-icon--right"})]):e._e()],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.rolesData,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"name",label:"角色名称",width:"200"}}),r("el-table-column",{attrs:{fixed:"",prop:"code",label:"角色编码",width:"200"}}),r("el-table-column",{attrs:{prop:"description",label:"描述"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$menuPermission.HAS_ROLE_UPDATE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.editAction(t.row)}}},[e._v("编辑")]):e._e(),e.$menuPermission.HAS_ROLE_DELETE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteAction(t.row)}}},[e._v("删除")]):e._e(),e.$menuPermission.HAS_ROLE_PERMISSION_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.permissionAction(t.row)}}},[e._v("权限")]):e._e(),e.$menuPermission.HAS_ROLE_MENU_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.menuAction(t.row)}}},[e._v("菜单")]):e._e()]}}])})],1)],1)],1),r("el-dialog",{attrs:{title:"创建新角色",visible:e.createDialogFormVisible},on:{"update:visible":function(t){e.createDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.roleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[r("el-input",{model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),r("el-form-item",{attrs:{label:"角色编码",prop:"code"}},[r("el-input",{model:{value:e.roleForm.code,callback:function(t){e.$set(e.roleForm,"code",t)},expression:"roleForm.code"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"description"}},[r("el-input",{model:{value:e.roleForm.description,callback:function(t){e.$set(e.roleForm,"description",t)},expression:"roleForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.createDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createRoleAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑新角色",visible:e.editDialogFormVisible},on:{"update:visible":function(t){e.editDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.roleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[r("el-input",{model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),r("el-form-item",{attrs:{label:"角色编码",prop:"code"}},[r("el-input",{model:{value:e.roleForm.code,callback:function(t){e.$set(e.roleForm,"code",t)},expression:"roleForm.code"}})],1),r("el-form-item",{attrs:{label:"角色描述",prop:"description"}},[r("el-input",{model:{value:e.roleForm.description,callback:function(t){e.$set(e.roleForm,"description",t)},expression:"roleForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.createDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editRoleAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配权限",visible:e.permissionDialogFormVisible},on:{"update:visible":function(t){e.permissionDialogFormVisible=t}}},[r("el-transfer",{attrs:{titles:["待分配权限","已分配权限"],"button-texts":["到左边","到右边"],data:e.permissionsData},model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.permissionDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.managePermissionAction()}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"分配菜单",visible:e.menuDialogFormVisible},on:{"update:visible":function(t){e.menuDialogFormVisible=t}}},[r("el-tree",{ref:"tree",attrs:{data:e.menusData,"show-checkbox":"","node-key":"id","default-expanded-keys":[],"default-checked-keys":e.defaultCheckedMenus,props:e.defaultProps}}),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.menuDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.manageMenuAction()}}},[e._v("确 定")])],1)],1)],1)},B=[],L={data:function(){return{rolesData:[],createDialogFormVisible:!1,editDialogFormVisible:!1,permissionDialogFormVisible:!1,menuDialogFormVisible:!1,tapRoleId:0,permissionsData:[],permissions:[],roleForm:{name:"",code:"",description:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},menusData:[],defaultCheckedMenus:[],defaultProps:{children:"children",label:"name"}}},methods:{createAction:function(){this.roleForm.code="",this.roleForm.name="",this.roleForm.description="",this.createDialogFormVisible=!0},editAction:function(e){this.roleForm.code=e.code,this.roleForm.name=e.name,this.roleForm.description=e.description,this.editDialogFormVisible=!0,this.tapRoleId=e.id},deleteAction:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRoleApi(e.id)})).catch((function(){}))},permissionAction:function(e){this.tapRoleId=e.id,this.permissionDialogFormVisible=!0,this.permissionsApi()},menuAction:function(e){this.tapRoleId=e.id,this.menuDialogFormVisible=!0,this.menusApi()},createRoleAction:function(e){var t=this;this.createDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createRoleApi()}))},editRoleAction:function(e){var t=this;this.editDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.updateRoleApi(t.tapRoleId)}))},managePermissionAction:function(){this.permissionDialogFormVisible=!1,this.allotPermissionsApi(this.tapRoleId)},manageMenuAction:function(){this.menuDialogFormVisible=!1;var e=this.$refs.tree.getCheckedNodes(!1,!0).map((function(e){return e.id}));console.log(e),this.allotMenusApi(this.tapRoleId,e)},rolesApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$http.API.ROLES_ALL);case 2:t=e.sent,t.success&&(this.rolesData=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),permissionsApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.permissionsData=[],e.next=3,this.$http.get(this.$http.API.PERMISSIONS_ALL);case 3:t=e.sent,t.success&&(r=t.data,r.forEach((function(e){var t={key:e.id,label:e.name,disabled:!1};s.permissionsData.push(t)})),this.permissionsOfRoleApi(this.tapRoleId));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),menusApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.permissionsData=[],e.next=3,this.$http.get(this.$http.API.MENUS_ALL);case 3:t=e.sent,t.success&&(this.menusData=t.data,this.menusOfRoleApi(this.tapRoleId));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),permissionsOfRoleApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.permissions=[],e.next=3,this.$http.get("/system/role/"+t+"/permissions");case 3:r=e.sent,r.success&&(s=r.data,s.forEach((function(e){n.permissions.push(e.id)})));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),menusOfRoleApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.defaultCheckedMenus=[],e.next=3,this.$http.get("/system/role/"+t+"/menus");case 3:r=e.sent,r.success&&(s=r.data,n=[],s.forEach((function(e){n.push(e.id)})),this.defaultCheckedMenus=n,console.log("defaultCheckedMenus:"+this.defaultCheckedMenus));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),allotPermissionsApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("/system/role/"+t+"/permissions",this.permissions);case 2:r=e.sent,r.success&&this.$message({message:"恭喜您，分配权限成功",type:"success"});case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),allotMenusApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.put("/system/role/"+t+"/menus",r);case 2:s=e.sent,s.success&&this.$message({message:"恭喜您，分配菜单成功",type:"success"});case 4:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),createRoleApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.roleForm,e.next=3,this.$http.post(this.$http.API.ROLES_CREATE,t);case 3:r=e.sent,r.success&&(this.$message({message:"创建成功啦",type:"success"}),this.rolesApi());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateRoleApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.roleForm,e.next=3,this.$http.put(this.$http.API.ROLES_UPDATE+t,r);case 3:s=e.sent,s.success&&(this.$message({message:"更新成功啦",type:"success"}),this.rolesApi());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteRoleApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete(this.$http.API.ROLES_DELETE+t);case 2:r=e.sent,r.success&&(this.$message({message:"删除成功啦",type:"success"}),this.rolesApi());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.rolesApi()}},C=L,V=Object(o["a"])(C,N,B,!1,null,null,null),H=V.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"margin-bottom":"20px"}},[r("el-col",{attrs:{span:24}},[e.$menuPermission.HAS_PERMISSION_CREATE_BUTTON?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAction()}}},[e._v("创建新权限"),r("i",{staticClass:"el-icon-apple el-icon--right"})]):e._e()],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.permissionsData,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"name",label:"权限名称",width:"200"}}),r("el-table-column",{attrs:{fixed:"",prop:"code",label:"权限编码",width:"200"}}),r("el-table-column",{attrs:{prop:"description",label:"描述"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$menuPermission.HAS_PERMISSION_UPDATE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.editAction(t.row)}}},[e._v("编辑")]):e._e(),e.$menuPermission.HAS_PERMISSION_DELETE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteAction(t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1)],1),r("el-dialog",{attrs:{title:"创建新权限",visible:e.createDialogFormVisible},on:{"update:visible":function(t){e.createDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.permissionForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[r("el-input",{model:{value:e.permissionForm.name,callback:function(t){e.$set(e.permissionForm,"name",t)},expression:"permissionForm.name"}})],1),r("el-form-item",{attrs:{label:"权限编码",prop:"code"}},[r("el-input",{model:{value:e.permissionForm.code,callback:function(t){e.$set(e.permissionForm,"code",t)},expression:"permissionForm.code"}})],1),r("el-form-item",{attrs:{label:"权限描述",prop:"description"}},[r("el-input",{model:{value:e.permissionForm.description,callback:function(t){e.$set(e.permissionForm,"description",t)},expression:"permissionForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.createDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createPermissionAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑新权限",visible:e.editDialogFormVisible},on:{"update:visible":function(t){e.editDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.permissionForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"权限名称",prop:"name"}},[r("el-input",{model:{value:e.permissionForm.name,callback:function(t){e.$set(e.permissionForm,"name",t)},expression:"permissionForm.name"}})],1),r("el-form-item",{attrs:{label:"权限编码",prop:"code"}},[r("el-input",{model:{value:e.permissionForm.code,callback:function(t){e.$set(e.permissionForm,"code",t)},expression:"permissionForm.code"}})],1),r("el-form-item",{attrs:{label:"权限描述",prop:"description"}},[r("el-input",{model:{value:e.permissionForm.description,callback:function(t){e.$set(e.permissionForm,"description",t)},expression:"permissionForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editPermissionAction("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},j=[],q={data:function(){return{permissionsData:[],createDialogFormVisible:!1,editDialogFormVisible:!1,tapPermissionId:0,permissionForm:{name:"",code:"",description:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],code:[{required:!0,message:"请输入编码",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]}}},methods:{createAction:function(){this.permissionForm.code="",this.permissionForm.name="",this.permissionForm.description="",this.createDialogFormVisible=!0},editAction:function(e){this.permissionForm.code=e.code,this.permissionForm.name=e.name,this.permissionForm.description=e.description,this.editDialogFormVisible=!0,this.tapPermissionId=e.id},deleteAction:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deletePermissionApi(e.id)})).catch((function(){}))},createPermissionAction:function(e){var t=this;this.createDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createPermissionApi()}))},editPermissionAction:function(e){var t=this;this.editDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.updatePermissionApi(t.tapPermissionId)}))},permissionsApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$http.API.PERMISSION_ALL);case 2:t=e.sent,t.success&&(this.permissionsData=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createPermissionApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.permissionForm,e.next=3,this.$http.post(this.$http.API.PERMISSION_CREATE,t);case 3:r=e.sent,r.success&&(this.$message({message:"创建成功啦",type:"success"}),this.permissionsApi());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updatePermissionApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.permissionForm,e.next=3,this.$http.put(this.$http.API.PERMISSION_UPDATE+t,r);case 3:s=e.sent,s.success&&(this.$message({message:"更新成功啦",type:"success"}),this.permissionsApi());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deletePermissionApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete(this.$http.API.PERMISSION_DELETE+t);case 2:r=e.sent,r.success&&(this.$message({message:"删除成功啦",type:"success"}),this.permissionsApi());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.permissionsApi()}},z=q,G=Object(o["a"])(z,M,j,!1,null,null,null),K=G.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"margin-bottom":"20px"}},[r("el-col",{attrs:{span:24}},[e.$menuPermission.HAS_MENU_CREATE_BUTTON?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAction()}}},[e._v("创建新菜单"),r("i",{staticClass:"el-icon-apple el-icon--right"})]):e._e()],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.menusData,border:"","row-key":"id","default-expand-all":"","tree-props":{children:"children"}}},[r("el-table-column",{attrs:{fixed:"",prop:"id",label:"菜单id"}}),r("el-table-column",{attrs:{prop:"parentId",label:"菜单父id"}}),r("el-table-column",{attrs:{prop:"orderNum",label:"排序编号"}}),r("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[e._v(e._s(e._f("menuType")(t.row.type)))])])]}}])}),r("el-table-column",{attrs:{prop:"name",label:"名称"}}),r("el-table-column",{attrs:{prop:"icon",label:"图标"}}),r("el-table-column",{attrs:{prop:"href",label:"路由"}}),r("el-table-column",{attrs:{prop:"description",label:"描述"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$menuPermission.HAS_MENU_UPDATE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.editAction(t.row)}}},[e._v("编辑")]):e._e(),e.$menuPermission.HAS_MENU_DELETE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteAction(t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1)],1),r("el-dialog",{attrs:{title:"创建新菜单",visible:e.createDialogFormVisible},on:{"update:visible":function(t){e.createDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.menuForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"菜单父id",prop:"parentId"}},[r("el-input",{model:{value:e.menuForm.parentId,callback:function(t){e.$set(e.menuForm,"parentId",t)},expression:"menuForm.parentId"}})],1),r("el-form-item",{attrs:{label:"排序编号",prop:"orderNum"}},[r("el-input",{model:{value:e.menuForm.orderNum,callback:function(t){e.$set(e.menuForm,"orderNum",t)},expression:"menuForm.orderNum"}})],1),r("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.menuForm.type,callback:function(t){e.$set(e.menuForm,"type",t)},expression:"menuForm.type"}},e._l(e.menuTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[r("el-input",{model:{value:e.menuForm.name,callback:function(t){e.$set(e.menuForm,"name",t)},expression:"menuForm.name"}})],1),r("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[r("el-input",{model:{value:e.menuForm.icon,callback:function(t){e.$set(e.menuForm,"icon",t)},expression:"menuForm.icon"}})],1),r("el-form-item",{attrs:{label:"菜单路由",prop:"href"}},[r("el-input",{model:{value:e.menuForm.href,callback:function(t){e.$set(e.menuForm,"href",t)},expression:"menuForm.href"}})],1),r("el-form-item",{attrs:{label:"菜单描述",prop:"description"}},[r("el-input",{model:{value:e.menuForm.description,callback:function(t){e.$set(e.menuForm,"description",t)},expression:"menuForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.createDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createMenuAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑新权限",visible:e.editDialogFormVisible},on:{"update:visible":function(t){e.editDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.menuForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"菜单父id",prop:"parentId"}},[r("el-input",{model:{value:e.menuForm.parentId,callback:function(t){e.$set(e.menuForm,"parentId",t)},expression:"menuForm.parentId"}})],1),r("el-form-item",{attrs:{label:"排序编号",prop:"orderNum"}},[r("el-input",{model:{value:e.menuForm.orderNum,callback:function(t){e.$set(e.menuForm,"orderNum",t)},expression:"menuForm.orderNum"}})],1),r("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.menuForm.type,callback:function(t){e.$set(e.menuForm,"type",t)},expression:"menuForm.type"}},e._l(e.menuTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[r("el-input",{model:{value:e.menuForm.name,callback:function(t){e.$set(e.menuForm,"name",t)},expression:"menuForm.name"}})],1),r("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[r("el-input",{model:{value:e.menuForm.icon,callback:function(t){e.$set(e.menuForm,"icon",t)},expression:"menuForm.icon"}})],1),r("el-form-item",{attrs:{label:"菜单路由",prop:"href"}},[r("el-input",{model:{value:e.menuForm.href,callback:function(t){e.$set(e.menuForm,"href",t)},expression:"menuForm.href"}})],1),r("el-form-item",{attrs:{label:"菜单描述",prop:"description"}},[r("el-input",{model:{value:e.menuForm.description,callback:function(t){e.$set(e.menuForm,"description",t)},expression:"menuForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editMenuAction("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},X=[],W={data:function(){return{menusData:[],createDialogFormVisible:!1,editDialogFormVisible:!1,tapMenuId:0,menuForm:{parentId:"",orderNum:"",type:"",name:"",icon:"",href:"",description:""},rules:{parentId:[{required:!0,message:"请输入菜单父id",trigger:"blur"}],orderNum:[{required:!0,message:"请输入排序编号",trigger:"blur"}],type:[{required:!0,message:"请输入菜单类型",trigger:"blur"}],name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],icon:[{required:!0,message:"请输入菜单图标",trigger:"blur"}],description:[{required:!0,message:"请输入菜单描述",trigger:"blur"}]},menuTypeOptions:[{value:1,label:"菜单"},{value:2,label:"按钮"}]}},methods:{createAction:function(){this.menuForm.parentId="",this.menuForm.orderNum="",this.menuForm.type="",this.menuForm.name="",this.menuForm.icon="",this.menuForm.href="",this.menuForm.description="",this.createDialogFormVisible=!0},editAction:function(e){this.menuForm.parentId=e.parentId,this.menuForm.orderNum=e.orderNum,this.menuForm.type=e.type,this.menuForm.name=e.name,this.menuForm.icon=e.icon,this.menuForm.href=e.href,this.menuForm.description=e.description,this.editDialogFormVisible=!0,this.tapMenuId=e.id},deleteAction:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteMenuApi(e.id)})).catch((function(){}))},createMenuAction:function(e){var t=this;this.createDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createMenuApi()}))},editMenuAction:function(e){var t=this;this.editDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.updateMenuApi(t.tapMenuId)}))},menusApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.menusData=[],e.next=3,this.$http.get(this.$http.API.MENUS_ALL);case 3:t=e.sent,t.success&&(this.menusData=t.data,console.log("所有菜单："+JSON.stringify(this.menusData)));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createMenuApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.menuForm,e.next=3,this.$http.post(this.$http.API.MENUS_CREATE,t);case 3:r=e.sent,r.success&&(this.$message({message:"创建成功啦",type:"success"}),this.menusApi());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateMenuApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.menuForm,e.next=3,this.$http.put(this.$http.API.MENUS_UPDATE+t,r);case 3:s=e.sent,s.success&&(this.$message({message:"更新成功啦",type:"success"}),this.menusApi());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteMenuApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete(this.$http.API.MENUS_DELETE+t);case 2:r=e.sent,r.success&&(this.$message({message:"删除成功啦",type:"success"}),this.menusApi());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.menusApi()}},Q=W,Y=Object(o["a"])(Q,J,X,!1,null,null,null),Z=Y.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",{staticStyle:{"margin-bottom":"20px"}},[r("el-col",{attrs:{span:24}},[e.$menuPermission.HAS_APP_CREATE_BUTTON?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAction()}}},[e._v("创建新应用"),r("i",{staticClass:"el-icon-apple el-icon--right"})]):e._e()],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.appsData,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"name",label:"应用名称",width:"200"}}),r("el-table-column",{attrs:{fixed:"",prop:"appId",label:"AppId",width:"200"}}),r("el-table-column",{attrs:{fixed:"",prop:"appSecret",label:"AppSecret",width:"200"}}),r("el-table-column",{attrs:{prop:"description",label:"应用描述"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.$menuPermission.HAS_APP_UPDATE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.editAction(t.row)}}},[e._v("编辑")]):e._e(),e.$menuPermission.HAS_APP_DELETE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteAction(t.row)}}},[e._v("删除")]):e._e(),e.$menuPermission.HAS_APP_PACKAGE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.gotoResourceAction(t.row)}}},[e._v("离线包")]):e._e()]}}])})],1)],1)],1),r("el-dialog",{attrs:{title:"创建新权限",visible:e.createDialogFormVisible},on:{"update:visible":function(t){e.createDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.appForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"应用名称",prop:"name"}},[r("el-input",{model:{value:e.appForm.name,callback:function(t){e.$set(e.appForm,"name",t)},expression:"appForm.name"}})],1),r("el-form-item",{attrs:{label:"应用描述",prop:"description"}},[r("el-input",{model:{value:e.appForm.description,callback:function(t){e.$set(e.appForm,"description",t)},expression:"appForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.createDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.createAppAction("ruleForm")}}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"编辑新应用",visible:e.editDialogFormVisible},on:{"update:visible":function(t){e.editDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.appForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"应用名称",prop:"name"}},[r("el-input",{model:{value:e.appForm.name,callback:function(t){e.$set(e.appForm,"name",t)},expression:"appForm.name"}})],1),r("el-form-item",{attrs:{label:"应用描述",prop:"description"}},[r("el-input",{model:{value:e.appForm.description,callback:function(t){e.$set(e.appForm,"description",t)},expression:"appForm.description"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.editDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editAppAction("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},te=[],re={data:function(){return{appsData:[],createDialogFormVisible:!1,editDialogFormVisible:!1,tapAppId:0,appForm:{name:"",description:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]}}},methods:{createAction:function(){this.appForm.name="",this.appForm.appId="",this.appForm.appSecret="",this.appForm.description="",this.createDialogFormVisible=!0},editAction:function(e){this.appForm.name=e.name,this.appForm.appId=e.appId,this.appForm.appSecret=e.appSecret,this.appForm.description=e.description,this.editDialogFormVisible=!0,this.tapAppId=e.id},gotoResourceAction:function(e){this.$router.push({name:"resources",query:{appInfo:e}})},deleteAction:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteAppApi(e.id)})).catch((function(){}))},createAppAction:function(e){var t=this;this.createDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createAppApi()}))},editAppAction:function(e){var t=this;this.editDialogFormVisible=!1,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.updateAppApi(t.tapAppId)}))},appsApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$http.API.APPS_ALL);case 2:t=e.sent,t.success&&(this.appsData=t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createAppApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.appForm,e.next=3,this.$http.post(this.$http.API.APPS_CREATE,t);case 3:r=e.sent,r.success&&(this.$message({message:"创建成功啦",type:"success"}),this.appsApi());case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateAppApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.appForm,e.next=3,this.$http.put(this.$http.API.APPS_UPDATE+t,r);case 3:s=e.sent,s.success&&(this.$message({message:"更新成功啦",type:"success"}),this.appsApi());case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteAppApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.delete(this.$http.API.APPS_DELETE+t);case 2:r=e.sent,r.success&&(this.$message({message:"删除成功啦",type:"success"}),this.appsApi());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.appsApi()}},se=re,ne=Object(o["a"])(se,ee,te,!1,null,null,null),ie=ne.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-page-header",{attrs:{content:"离线包详情"},on:{back:e.goBack}})],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("h2",[e._v(e._s(e.appInfo.name))])])],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("span",[e._v("AppId:"+e._s(e.appInfo.appId))]),r("el-divider",{attrs:{direction:"vertical"}}),r("span",[e._v("AppSecret:"+e._s(e.appInfo.appSecret))])],1)],1),r("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[r("el-col",{attrs:{span:24}},[e.$menuPermission.HAS_PACKAGE_UPLOAD_BUTTON?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadPackageAction()}}},[e._v("上传离线包"),r("i",{staticClass:"el-icon-apple el-icon--right"})]):e._e()],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.resourcesData,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"versionName",label:"版本名称",width:"200"}}),r("el-table-column",{attrs:{fixed:"",prop:"versionCode",label:"版本编号"}}),r("el-table-column",{attrs:{fixed:"",prop:"status",label:"资源状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[e._v(e._s(e._f("packageStatus")(t.row.status)))])])]}}])}),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.status&&e.$menuPermission.HAS_PACKAGE_DELETE_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.deleteAction(t.row)}}},[e._v("删除")]):e._e(),e.$menuPermission.HAS_PACKAGE_PATCHS_BUTTON?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.patchAction(t.row)}}},[e._v("补丁包")]):e._e(),1===t.row.status&&e.$menuPermission.HAS_PACKAGE_RELEASE_BUTTON?r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(r){return e.releaseAction(t.row)}}},[e._v("发布"),r("i",{staticClass:"el-icon-upload el-icon--right"})]):e._e()]}}])})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalNum},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1),r("el-dialog",{attrs:{title:"补丁包",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[r("el-table",{attrs:{data:e.patchsData}},[r("el-table-column",{attrs:{property:"newVersion",label:"新版本号",width:"150"}}),r("el-table-column",{attrs:{property:"oldVersion",label:"旧版本号",width:"150"}}),r("el-table-column",{attrs:{property:"status",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("span",[e._v(e._s(e._f("packageStatus")(t.row.status)))])])]}}])}),r("el-table-column",{attrs:{property:"url",label:"下载地址"}})],1)],1),r("el-dialog",{attrs:{title:"上传离线包",visible:e.uploadDialogFormVisible},on:{"update:visible":function(t){e.uploadDialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.packageForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"新包版本名称",prop:"versionName"}},[r("el-input",{model:{value:e.packageForm.versionName,callback:function(t){e.$set(e.packageForm,"versionName",t)},expression:"packageForm.versionName"}}),r("p",{staticStyle:{color:"red","font-size":"12px","line-height":"13px"}},[e._v("当前最新版本名称:"+e._s(e.latestVersionName))])],1),r("el-form-item",{attrs:{label:"新包版本编码",prop:"versionCode"}},[r("el-input",{model:{value:e.packageForm.versionCode,callback:function(t){e.$set(e.packageForm,"versionCode",t)},expression:"packageForm.versionCode"}}),r("p",{staticStyle:{color:"red","font-size":"12px","line-height":"13px"}},[e._v("当前最新版本编号:"+e._s(e.latestVersionCode))])],1),r("el-form-item",{attrs:{label:"选取离线包"}},[r("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadUrl,"http-request":e.customUploadAction,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList,limit:1,"auto-upload":!1}},[r("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传 zip 压缩离线包")])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.uploadDialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:function(t){return e.submitUpload("ruleForm")}}},[e._v("上传到服务器")])],1)],1)],1)},ae=[],le={data:function(){return{resourcesData:[],appInfo:{id:"",name:"",appId:"",appSecret:""},currentPage:1,pageSize:10,totalNum:0,patchsData:[],dialogTableVisible:!1,uploadDialogFormVisible:!1,packageForm:{versionName:"",versionCode:""},rules:{versionName:[{required:!0,message:"请输入版本名称",trigger:"blur"}],versionCode:[{required:!0,message:"请输入版本编号",trigger:"blur"}]},latestVersionName:"",latestVersionCode:"",uploadData:{versionName:"",versionCode:""},fileList:[]}},methods:{goBack:function(){this.$router.go(-1)},deleteAction:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.removePackageApi(e.id)})).catch((function(){}))},uploadPackageAction:function(){this.packageForm.versionName="",this.packageForm.versionCode="",this.uploadDialogFormVisible=!0,this.latestResourceApi()},patchAction:function(e){this.dialogTableVisible=!0,this.patchAllApi(e.versionName)},releaseAction:function(e){this.releasePackageApi(e.id)},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),console.log("当前页currentPage:"+this.currentPage),this.resourceAllApi(e)},submitUpload:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.uploadData=t.packageForm,t.$refs.upload.submit()}))},customUploadAction:function(e){var t=new FormData;t.append("package",e.file),t.append("versionName",this.uploadData.versionName),t.append("versionCode",this.uploadData.versionCode),t.append("appId",this.appInfo.appId),t.append("appSecret",this.appInfo.appSecret),this.uploadApi(t)},handleRemove:function(e,t){this.fileList=t,console.log(e,t)},handlePreview:function(e){console.log(e)},resourceAllApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={current:t,size:this.pageSize},e.next=3,this.$http.get("/application/"+this.appInfo.id+"/resources",r);case 3:s=e.sent,s.success&&(this.resourcesData=s.data.records,this.pageSize=s.data.size,this.totalNum=s.data.total,this.currentPage=s.data.current);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),patchAllApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/application/"+this.appInfo.id+"/resource/"+t+"/patchs");case 2:r=e.sent,r.success&&(this.patchsData=r.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),releasePackageApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={applicationId:this.appInfo.id,resourceId:t},e.next=3,this.$http.post(this.$http.API.PACKAGE_RELEASE,r);case 3:s=e.sent,s.success&&(this.$message({message:"发布成功啦",type:"success"}),this.resourceAllApi(this.currentPage));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removePackageApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={applicationId:this.appInfo.id,resourceId:t},e.next=3,this.$http.post(this.$http.API.PACKAGE_REMOVE,r);case 3:s=e.sent,s.success&&(this.$message({message:"删除成功啦",type:"success"}),this.resourceAllApi(this.currentPage));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),latestResourceApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get(this.$http.API.PACKAGE_LATEST,{applicationId:this.appInfo.id});case 2:t=e.sent,t.success?(this.latestVersionName=t.data.versionName,this.latestVersionCode=t.data.versionCode):(this.latestVersionName="暂无",this.latestVersionCode="暂无");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),uploadApi:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.upload(this.uploadUrl,t);case 2:r=e.sent,r.success&&(this.$message({message:"上传成功",type:"success"}),this.resourceAllApi(this.currentPage),this.uploadDialogFormVisible=!1),this.fileList=[];case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){this.appInfo=this.$route.query.appInfo,this.resourceAllApi(1);this.uploadUrl=this.$http.httpConfig.baseURL+this.$http.API.PACKAGE_UPLOAD}},ue=le,ce=Object(o["a"])(ue,oe,ae,!1,null,null,null),pe=ce.exports;s["default"].use(c["a"]);var me=new c["a"]({mode:"history",base:"/",routes:[{path:"/",name:"login",component:y},{path:"/home",component:b,redirect:"/welcome",children:[{path:"/welcome",component:k,alias:"welcome"},{path:"/users",component:D,alias:"users"},{path:"/roles",component:H,alias:"roles"},{path:"/permissions",component:K,alias:"permissions"},{path:"/menus",component:Z,alias:"menus"},{path:"/applications",component:ie,alias:"applications"},{path:"/resources",component:pe,alias:"resources",name:"resources"}]},{path:"/about",name:"about",component:function(){return r.e("about").then(r.bind(null,"f820"))}}]}),de=(r("7514"),r("2f62"));s["default"].use(de["a"]);var he=new de["a"].Store({state:{userInfo:{}},mutations:{setUserInfo:function(e,t){e.userInfo=t},clearUserInfo:function(e){e.userInfo={}}},getters:{isLogin:function(e){return null!==e.userInfo&&"{}"!==JSON.stringify(e.userInfo)},loginInfo:function(e){return e.userInfo},hasButtonById:function(e){return function(t){return void 0!==e.userInfo.buttonList.find((function(e){return e.id===t}))}}},actions:{}});s["default"].filter("menuType",(function(e){var t="状态异常";switch(e){case 1:t="菜单";break;case 2:t="按钮";break}return t})),s["default"].filter("packageStatus",(function(e){var t="状态异常";switch(e){case 1:t="待发行";break;case 2:t="已发行";break}return t}));var fe={},ge=r("bc3a"),be=r.n(ge),Ae={baseURL:"http://49.233.169.151:8081/api",headers:{"Content-Type":"application/json;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},multipartHeaders:{"X-Requested-With":"XMLHttpRequest","Content-Type":"multipart/form-data"},data:{},timeout:1e4,withCredentials:!1,responseType:"json"},ve={LOGIN:"/login",LOGOUT:"/logout",USERS_ALL:"/system/user/all",USERS_CREATE:"/system/user",USERS_UPDATE:"/system/user/",USERS_DELETE:"/system/user/",ROLES_ALL:"/system/role/all",ROLES_CREATE:"/system/role",ROLES_UPDATE:"/system/role/",ROLES_DELETE:"/system/role/",PERMISSIONS_ALL:"/system/permission/all",MENUS_ALL:"/system/menu/all",MENUS_CREATE:"/system/menu",MENUS_UPDATE:"/system/menu/",MENUS_DELETE:"/system/menu/",PERMISSION_ALL:"/system/permission/all",PERMISSION_CREATE:"/system/permission",PERMISSION_UPDATE:"/system/permission/",PERMISSION_DELETE:"/system/permission/",APPS_ALL:"/application/all",APPS_CREATE:"/application",APPS_UPDATE:"/application/",APPS_DELETE:"/application/",PACKAGE_UPLOAD:"/package/publish",PACKAGE_RELEASE:"/package/release",PACKAGE_REMOVE:"/package/remove",PACKAGE_LATEST:"/package/latest"},_e=r("5c96"),Ee=r.n(_e);function Fe(e){var t="未知错误";if(e){switch(e.status){case 200:return"000000"!==e.data.code&&_e["Message"].error(e.data.message),e.data;case 400:t="请求错误";break;case 401:t="未授权，请登录";break;case 403:t="拒绝访问";break;case 404:t="请求地址出错: ".concat(e.config.url);break;case 408:t="请求超时";break;case 500:t="服务器内部错误";break;case 501:t="服务未实现";break;case 502:t="网关错误";break;case 503:t="服务不可用";break;case 504:t="网关超时";break;case 505:t="HTTP版本不受支持";break;default:}_e["Message"].error(e.status+" "+t)}else t="response 不存在";return{code:999999,message:t,isSuccess:!1,isFail:!0,data:{}}}function ye(){_e["Loading"].service({fullscreen:!0,text:"正在加载"})}function we(){var e=_e["Loading"].service({fullscreen:!0,text:"正在加载"});e.close()}be.a.interceptors.request.use((function(e){return ye(),console.log("axios request:"+JSON.stringify(e)),e}),(function(e){return we(),Promise.reject(e)})),be.a.interceptors.response.use((function(e){return console.log("axios response:"+JSON.stringify(e)),we(),e}),(function(e){return we(),Promise.resolve(e.response)}));var Te={httpConfig:Ae,API:ve,post:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be()({method:"post",baseURL:Ae.baseURL,url:t,data:r,timeout:Ae.timeout,headers:Ae.headers});case 2:return s=e.sent,e.abrupt("return",Fe(s));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),upload:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be()({method:"post",baseURL:Ae.baseURL,url:t,data:r,timeout:Ae.timeout,headers:Ae.multipartHeaders});case 2:return s=e.sent,e.abrupt("return",Fe(s));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),get:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be()({method:"get",baseURL:Ae.baseURL,url:t,params:r,timeout:Ae.timeout,headers:Ae.headers});case 2:return s=e.sent,e.abrupt("return",Fe(s));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be()({method:"delete",baseURL:Ae.baseURL,url:t,params:r,timeout:Ae.timeout,headers:Ae.headers});case 2:return s=e.sent,e.abrupt("return",Fe(s));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),put:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be()({method:"put",baseURL:Ae.baseURL,url:t,data:r,timeout:Ae.timeout,headers:Ae.headers});case 2:return s=e.sent,e.abrupt("return",Fe(s));case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},Se={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$http=Te}},Re="12",xe="8",ke="9",Pe="11",Oe="10",$e="13",Ue="14",Ie="15",De="16",Ne="17",Be="18",Le="19",Ce="20",Ve="21",He="22",Me="23",je="24",qe="25",ze="26",Ge="27",Ke="28",Je="29",Xe="30",We="31",Qe={HAS_USER_CREATE_BUTTON:!0,HAS_USER_UPDATE_BUTTON:!0,HAS_USER_DELETE_BUTTON:!0,HAS_USER_LOCK_BUTTON:!0,HAS_USER_ROLE_BUTTON:!0,HAS_ROLE_CREATE_BUTTON:!0,HAS_ROLE_UPDATE_BUTTON:!0,HAS_ROLE_DELETE_BUTTON:!0,HAS_ROLE_PERMISSION_BUTTON:!0,HAS_ROLE_MENU_BUTTON:!0,HAS_PERMISSION_CREATE_BUTTON:!0,HAS_PERMISSION_UPDATE_BUTTON:!0,HAS_PERMISSION_DELETE_BUTTON:!0,HAS_MENU_CREATE_BUTTON:!0,HAS_MENU_UPDATE_BUTTON:!0,HAS_MENU_DELETE_BUTTON:!0,HAS_APP_CREATE_BUTTON:!0,HAS_APP_UPDATE_BUTTON:!0,HAS_APP_DELETE_BUTTON:!0,HAS_APP_PACKAGE_BUTTON:!0,HAS_PACKAGE_UPLOAD_BUTTON:!0,HAS_PACKAGE_DELETE_BUTTON:!0,HAS_PACKAGE_RELEASE_BUTTON:!0,HAS_PACKAGE_PATCHS_BUTTON:!0,checkPermissions:function(){this.HAS_USER_CREATE_BUTTON=he.getters.hasButtonById(Re),this.HAS_USER_UPDATE_BUTTON=he.getters.hasButtonById(xe),this.HAS_USER_DELETE_BUTTON=he.getters.hasButtonById(ke),this.HAS_USER_LOCK_BUTTON=he.getters.hasButtonById(Pe),this.HAS_USER_ROLE_BUTTON=he.getters.hasButtonById(Oe),this.HAS_ROLE_CREATE_BUTTON=he.getters.hasButtonById($e),this.HAS_ROLE_UPDATE_BUTTON=he.getters.hasButtonById(Ue),this.HAS_ROLE_DELETE_BUTTON=he.getters.hasButtonById(Ie),this.HAS_ROLE_PERMISSION_BUTTON=he.getters.hasButtonById(De),this.HAS_ROLE_MENU_BUTTON=he.getters.hasButtonById(Ne),this.HAS_PERMISSION_CREATE_BUTTON=he.getters.hasButtonById(Be),this.HAS_PERMISSION_UPDATE_BUTTON=he.getters.hasButtonById(Le),this.HAS_PERMISSION_DELETE_BUTTON=he.getters.hasButtonById(Ce),this.HAS_MENU_CREATE_BUTTON=he.getters.hasButtonById(Ve),this.HAS_MENU_UPDATE_BUTTON=he.getters.hasButtonById(He),this.HAS_MENU_DELETE_BUTTON=he.getters.hasButtonById(Me),this.HAS_APP_CREATE_BUTTON=he.getters.hasButtonById(je),this.HAS_APP_UPDATE_BUTTON=he.getters.hasButtonById(qe),this.HAS_APP_DELETE_BUTTON=he.getters.hasButtonById(ze),this.HAS_APP_PACKAGE_BUTTON=he.getters.hasButtonById(Ge),this.HAS_PACKAGE_UPLOAD_BUTTON=he.getters.hasButtonById(Ke),this.HAS_PACKAGE_DELETE_BUTTON=he.getters.hasButtonById(Je),this.HAS_PACKAGE_RELEASE_BUTTON=he.getters.hasButtonById(Xe),this.HAS_PACKAGE_PATCHS_BUTTON=he.getters.hasButtonById(We)}},Ye={install:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$menuPermission=Qe}};r("0fae");s["default"].use(Ee.a),s["default"].use(Se),s["default"].use(Ye),s["default"].config.productionTip=!1,new s["default"]({router:me,store:he,filter:fe,render:function(e){return e(u)}}).$mount("#app")},"64a9":function(e,t,r){},cd61:function(e,t,r){"use strict";var s=r("095f"),n=r.n(s);n.a}});
//# sourceMappingURL=app.769d97a7.js.map